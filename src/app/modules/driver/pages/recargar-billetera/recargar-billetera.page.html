<ion-header [translucent]="true" color="primary">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <!-- BotÃ³n de regreso -->
      <ion-back-button defaultHref="/"></ion-back-button>
    </ion-buttons>
    <ion-title>Recargar</ion-title>
    <ion-buttons slot="end">
      <!-- OpciÃ³n de Pagos -->
      <ion-button (click)="mostrarApoyoBilletera()"><ion-icon name="settings"></ion-icon></ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>


<ion-content fullscreen>
  <div style="padding-left: 20px; padding-right: 20px;">

    <!-- <p style="font-size: 1.1rem; font-weight: 600; color: #e65100; margin-bottom: 5px;">
      Carga tu imagen, nosotros nos encargamos del resto.
    </p>-->

    <ion-card style="border-radius: 12px; box-shadow: 0 4px 12px rgba(245,124,0,0.3); margin-bottom: 25px;">
      <ion-card-content style="padding: 15px 20px; color: #4e342e;">
        <p style="font-weight: 600; font-size: 1rem; margin-bottom: 8px;">ðŸ“¢ Importante:</p>
        <ul style="list-style-type: none; padding-left: 0; font-size: 0.9rem; color: #6d4c41; line-height: 1.5;">
          <li>âœ… Tomar la foto en un lugar bien iluminado.</li>
          <li>âœ… Usar una imagen clara y enfocada.</li>
          <li>âœ… Evitar sombras, reflejos o fondos que dificulten la lectura del texto.</li>
          <li>âœ… Asegurarte de que todos los datos sean legibles y no estÃ©n borrosos.</li>
        </ul>
      </ion-card-content>
    </ion-card>

    <form [formGroup]="paymentForm" (ngSubmit)="submitForm()">

      <ion-item class="outlined-input"
        style="--border-color: orangered; --background: #fff; border-radius: 8px; margin-bottom: 15px;">
        <ion-label position="floating" style="color: orangered; font-weight: 600;">NÃºmero de Boleta</ion-label>
        <ion-input [(ngModel)]="formValidFields.receiptNumber" formControlName="receiptNumber" type="text"
          (ionInput)="checkInput('receiptNumber')" style="color: #4e342e;">
        </ion-input>
        <ion-icon *ngIf="isFieldValid('receiptNumber')" name="checkmark-circle" color="success" slot="end"></ion-icon>
      </ion-item>

      <ion-item class="outlined-input"
        style="--border-color: orangered; --background: #fff; border-radius: 8px; margin-bottom: 25px;">
        <ion-label position="floating" style="color: orangered; font-weight: 600;">Monto Q.</ion-label>
        <ion-input formControlName="amount" type="number" [(ngModel)]="formValidFields.amount"
          (ionInput)="checkInput('amount')" style="color: #4e342e;">
        </ion-input>
        <ion-icon *ngIf="isFieldValid('amount')" name="checkmark-circle" color="success" slot="end"></ion-icon>
      </ion-item>

      <div style="margin-left: 5px; margin-right: 5px;">
          <p style="font-weight: 600; color: #e65100; margin-bottom: 10px;">Adjunta tu voucher o boleta de depÃ³sito</p>
    
        <div class="photo-container" (click)="openPhotoOptions()" style="
          border: 2px dashed orangered; 
          border-radius: 15px; 
          height: 180px; 
          display: flex; 
          justify-content: center; 
          align-items: center; 
          cursor: pointer;
          margin-bottom: 30px;
          overflow: hidden;
          background: #fff;
          box-shadow: 0 2px 10px rgba(245,124,0,0.2);
        ">
          <img *ngIf="photoBase64" [src]="photoBase64"
            style="width: 100%; height: 100%; object-fit: contain; border-radius: 15px;" />
          <ion-icon *ngIf="!photoBase64" name="camera" size="large" style="color: orangered;"></ion-icon>
        </div>
      </div>
      <ion-button  shape="round" expand="full" type="submit" [disabled]="!isImageValid"
        style="--background: orangered; --border-radius: 15px;  font-weight: 700; font-size: 1.1rem;">
        Enviar
      </ion-button>

    </form>
  </div>
</ion-content>